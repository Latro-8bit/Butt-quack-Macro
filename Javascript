    // 1. Prevent default R key behavior
    event.preventDefault();
    
    // 2. Create synthetic 5 key press
    const key5Event = new KeyboardEvent('keydown', {
      key: '5',
      keyCode: 53,       // ASCII code for '5'
      code: 'Digit5',    // Physical key position
      which: 53,         // Legacy property
      bubbles: true,
      cancelable: true,
      composed: true     // Required for some frameworks
    });

    // 3. Dispatch the event to the focused element or document
    (event.target || document).dispatchEvent(key5Event);
    
    // Optional: Simulate keyup after short delay (more realistic)
    setTimeout(() => {
      const key5Up = new KeyboardEvent('keyup', {
        key: '5',
        code: 'Digit5',
        bubbles: true
      });
      (event.target || document).dispatchEvent(key5Up);
    }, 50);
